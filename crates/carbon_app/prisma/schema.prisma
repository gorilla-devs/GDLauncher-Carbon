datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "cargo prisma"
  output   = "../src/db.rs"
}

model AppConfiguration {
  id                 Int     @id @default(0)
  theme              String  @default("main")
  reducedMotion      Boolean @default(false)
  discordIntegration Boolean @default(true)
  releaseChannel     String  @default("stable")
  activeAccountUuid  String?
}

model Account {
  uuid           String    @id
  username       String
  // presence signifies a microsoft account
  accessToken    String?
  tokenExpires   DateTime?
  msRefreshToken String?
  lastUsed       DateTime
  skinId         String?
}

model Skin {
  id   String @id
  skin Bytes
}

model HTTPCache {
  id           String   @id
  url          String
  data         Bytes
  expiresAt    DateTime @default(now())
  lastModified String?
  etag         String?
  varyHeaders  String
}

model ActiveDownloads {
  url     String @id
  file_id String @unique
}
